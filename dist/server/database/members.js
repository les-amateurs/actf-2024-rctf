"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeMember = exports.makeMember = exports.getMembers = void 0;
const db_1 = __importDefault(require("./db"));
exports.getMembers = ({ userid }) => {
    return db_1.default.query('SELECT * FROM user_members WHERE userid = $1', [userid])
        .then(res => res.rows);
};
exports.makeMember = ({ id, userid, email }) => {
    return db_1.default.query('INSERT INTO user_members (id, userid, email) VALUES ($1, $2, $3) RETURNING *', [id, userid, email])
        .then(res => res.rows[0]);
};
exports.removeMember = ({ id, userid }) => {
    return db_1.default.query('DELETE FROM user_members WHERE id = $1 and userid = $2 RETURNING *', [id, userid])
        .then(res => res.rows[0]);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVtYmVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlcnZlci9kYXRhYmFzZS9tZW1iZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDhDQUFxQjtBQVNSLFFBQUEsVUFBVSxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQThCLEVBQXlCLEVBQUU7SUFDMUYsT0FBTyxZQUFFLENBQUMsS0FBSyxDQUFhLDhDQUE4QyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDbEYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQzFCLENBQUMsQ0FBQTtBQUVZLFFBQUEsVUFBVSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBYyxFQUF1QixFQUFFO0lBQ25GLE9BQU8sWUFBRSxDQUFDLEtBQUssQ0FBYSw4RUFBOEUsRUFDeEcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUNwQjtTQUNFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUM3QixDQUFDLENBQUE7QUFFWSxRQUFBLFlBQVksR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBcUMsRUFBbUMsRUFBRTtJQUNqSCxPQUFPLFlBQUUsQ0FBQyxLQUFLLENBQWEsb0VBQW9FLEVBQUUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDNUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQzdCLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYiBmcm9tICcuL2RiJ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4vdXNlcnMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck1lbWJlciB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJpZDogVXNlclsnaWQnXTtcbiAgZW1haWw6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGdldE1lbWJlcnMgPSAoeyB1c2VyaWQgfTogUGljazxVc2VyTWVtYmVyLCAndXNlcmlkJz4pOiBQcm9taXNlPFVzZXJNZW1iZXJbXT4gPT4ge1xuICByZXR1cm4gZGIucXVlcnk8VXNlck1lbWJlcj4oJ1NFTEVDVCAqIEZST00gdXNlcl9tZW1iZXJzIFdIRVJFIHVzZXJpZCA9ICQxJywgW3VzZXJpZF0pXG4gICAgLnRoZW4ocmVzID0+IHJlcy5yb3dzKVxufVxuXG5leHBvcnQgY29uc3QgbWFrZU1lbWJlciA9ICh7IGlkLCB1c2VyaWQsIGVtYWlsIH06IFVzZXJNZW1iZXIpOiBQcm9taXNlPFVzZXJNZW1iZXI+ID0+IHtcbiAgcmV0dXJuIGRiLnF1ZXJ5PFVzZXJNZW1iZXI+KCdJTlNFUlQgSU5UTyB1c2VyX21lbWJlcnMgKGlkLCB1c2VyaWQsIGVtYWlsKSBWQUxVRVMgKCQxLCAkMiwgJDMpIFJFVFVSTklORyAqJyxcbiAgICBbaWQsIHVzZXJpZCwgZW1haWxdXG4gIClcbiAgICAudGhlbihyZXMgPT4gcmVzLnJvd3NbMF0pXG59XG5cbmV4cG9ydCBjb25zdCByZW1vdmVNZW1iZXIgPSAoeyBpZCwgdXNlcmlkIH06IFBpY2s8VXNlck1lbWJlciwgJ2lkJyB8ICd1c2VyaWQnPik6IFByb21pc2U8VXNlck1lbWJlciB8IHVuZGVmaW5lZD4gPT4ge1xuICByZXR1cm4gZGIucXVlcnk8VXNlck1lbWJlcj4oJ0RFTEVURSBGUk9NIHVzZXJfbWVtYmVycyBXSEVSRSBpZCA9ICQxIGFuZCB1c2VyaWQgPSAkMiBSRVRVUk5JTkcgKicsIFtpZCwgdXNlcmlkXSlcbiAgICAudGhlbihyZXMgPT4gcmVzLnJvd3NbMF0pXG59XG4iXX0=